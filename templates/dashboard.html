{% extends "base.html" %}

{% block title %}Perfil | YourToolQuizz{% endblock %}

{% block extra_css %}
<style>
/* ------------------ MAIN ------------------ */
.main.dashboard {
  flex: 1;
  padding: 80px 60px;
  display: flex;
  flex-direction: column;
  gap: 30px;
} 
.container { display: flex; flex-direction: column; gap: 30px; }

/* ------------------ SALUDO ------------------ */
.greeting-card { background:#fff; padding:24px; border-radius:20px; box-shadow:0 8px 24px rgba(0,0,0,0.06); }
.greeting { font-size:1.8rem; font-weight:700; color:#000; margin-bottom:12px; }

/* ------------------ GRID ------------------ */
.grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:24px; width:100%; }
.grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:24px; width:100%; }

/* ------------------ CARDS ------------------ */
.card { background: #fff; padding: 24px; border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.06); transition: transform 0.3s, box-shadow 0.3s; }
.card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0,0,0,0.1); }

/* ------------------ INFO USUARIO ------------------ */
.user-info h2, .contract-info h2 { font-size:1.4rem; font-weight:700; color:#000; margin-bottom:16px; }
.user-info label { font-weight: 600; display:block; margin-bottom:6px; color:#000; }
.user-info input { width:100%; padding:14px; margin-bottom:16px; border:1px solid #ddd; border-radius:12px; font-size:1rem; background:#f9f9f9; }
/* Ajuste de botón junto al input */
.input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px; /* espacio entre input y botón */
}

.input-wrapper input {
  flex: 1;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 12px;
  font-size: 1rem;
  background: #f9f9f9;
}

.change-password-btn {
  display: inline-flex;
  padding: 10px 16px;
  background-color: #D60000;
  color: #fff;
  border-radius: 12px;
  font-weight: 600;
  text-decoration: none;
  transition: background 0.3s;
}

.change-password-btn:hover {
  background-color: #9e2121;
}

/* ------------------ INFO CONTRATO ------------------ */
.contract-info p { margin-bottom:10px; font-size:0.95rem; color:#000; }
.contract-info span { font-weight:600; color:#D60000; }


/* ------------------ QUIZZES ------------------ */
.quizzes-title { font-size:2.4rem; font-weight:800; margin-bottom:32px; text-align:center; color:#000; }
.quizzes-title::after { content:""; display:block; width:60px; height:4px; background:#D60000; margin:12px auto 0; border-radius:2px; }

.quiz-card { display:flex; flex-direction:column; background:#fff; border-radius:16px; box-shadow:0 8px 24px rgba(0,0,0,0.06); overflow:hidden; cursor:pointer; transition: transform 0.3s, box-shadow 0.3s; }
.quiz-card:hover { transform: translateY(-6px); box-shadow:0 18px 40px rgba(0,0,0,0.12); }
.quiz-card img { width:100%; height:160px; object-fit:cover; }
.quiz-card .quiz-content { padding:16px; text-align:center; }
.quiz-card .quiz-content h3 { margin-bottom:8px; color:#000; font-size:1.2rem; }
.quiz-card .quiz-content p { font-size:0.95rem; color:#333; }


</style>
{% endblock %}
{% block content %}


<main class="dashboard container">


  <!-- SALUDO -->
  <div class="card greeting-card">
    <div class="greeting">
      ¡Hola, {{ usuario.nombre or usuario.email or 'Usuario' }}!
    </div>
    <p>Bienvenido a tu dashboard de YourToolQuizz. Explora tu información y los quizzes recomendados para ti.</p>
  </div>

  <!-- INFO USUARIO y CONTRATO -->
  <div class="grid-2">
    <!-- INFO USUARIO -->
<!-- INFO USUARIO -->
<div class="card user-info">
  <h2>Tu información</h2>
  <label for="name">Nombre</label>
  <input type="text" id="name" value="{{ usuario.nombre or 'Sin nombre' }}" readonly>
  <label for="email">Email</label>
  <input type="email" id="email" value="{{ usuario.email or '' }}" readonly>
  <label for="password">Contraseña</label>
  <div class="input-wrapper">
      <input type="password" id="password" value="********" readonly>
      <!-- Botón de cambiar contraseña -->
      <a href="{{ url_for('change_password') }}" class="change-password-btn">Cambiar</a>
  </div>
</div>


    <!-- INFO CONTRATO -->
    <div class="card contract-info">
      <h2>Información de tu contrato</h2>
      <p><span>Número de contrato:</span> {{ usuario.contrato or '-' }}</p>
      <p><span>Tipo de plan:</span> {{ usuario.plan or '-' }}</p>
      <p><span>Fecha de inicio:</span> {{ usuario.fecha_inicio or '-' }}</p>
      <p><span>Fecha de fin:</span> {{ usuario.fecha_fin or '-' }}</p>
      <p><span>Estado:</span> {{ usuario.estado or '-' }}</p>
    </div>
  </div>

{% endblock %}
